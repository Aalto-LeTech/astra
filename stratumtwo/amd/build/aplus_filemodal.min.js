define(["jquery","mod_stratumtwo/twbootstrap"],function(a){return function(a,b,c,d){"use strict";function e(b,c){this.element=a(b),this.settings=a.extend({},g,c),this.init()}var f="aplusFileModal",g={modal_selector:"#default-modal",title_selector:".modal-title",content_selector:".modal-body"};a.extend(e.prototype,{init:function(){var b=this.element,c=this.settings;b.on("click",function(d){d.preventDefault(),a.get(b.attr("href"),function(d){var e=a(c.modal_selector),f=a("<pre/>").text(d);e.find(c.title_selector).text(b.text()),e.find(c.content_selector).html(f),hljs.highlightBlock(f[0]);for(var g=f.html().split(/\r\n|\r|\n/g),h=a("<table/>").addClass("src"),i=1;i<=g.length;i++)h.append('<tr><td class="num">'+i+'</td><td class="src">'+g[i-1]+"</td></tr>");f.html(h),e.modal("show")})})}}),a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))})}}(a,window,document),{}});