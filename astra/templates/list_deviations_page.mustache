{{!
List deadline and submission limit deviations in a course.
Derived from A+ (a-plus/deviations/templates/deviations/list_dl.html).

Context variables:
* add_new_dl_deviation_url (string) URL for adding a new deadline deviation
* dl_deviations (array of objects), each object has fields 
    - submitter (string) in the format "full name (student id)"
    - exercise_name (string)
    - extra_minutes (int)
    - without_late_penalty (string) "true" or "false"
    - remove_url (string) URL for deleting the deviation
* add_new_sbms_limit_url (string) URL for adding a new submission limit deviation
* sbms_limit_deviations (array of objects), each object has fields
    - submitter (string) in the format "full name (student id)"
    - exercise_name (string)
    - extra_submissions (int)
    - remove_url (string) URL for deleting the deviation
}}

<div class="bs3-container-fluid">
<div class="row">
<div class="col-md-12">

<p>
    <a class="btn btn-primary btn-xs" href="{{{ add_new_dl_deviation_url }}}">
        <span class="glyphicon glyphicon-time" aria-hidden="true"></span>
        {{#str}} addnewdldeviations, mod_astra {{/str}}
    </a>
</p>
<div class="panel panel-primary">
    <div class="panel-heading">
        <h3 class="panel-title">{{#str}} dldeviations, mod_astra {{/str}}</h3>
    </div>
    <table class="table table-striped table-bordered table-condensed">
        <tr>
            <th>{{#str}} submitter, mod_astra {{/str}}</th>
            <th>{{#str}} exercisename, mod_astra {{/str}}</th>
            <th>{{#str}} extraminutes, mod_astra {{/str}}</th>
            <th>{{#str}} withoutlatepenalty, mod_astra {{/str}}</th>
            <th>{{#str}} actions, mod_astra {{/str}}</th>
        </tr>
        {{# dl_deviations }}
        <tr>
            <td>{{ submitter }}</td>
            <td>{{ exercise_name }}</td>
            <td>{{ extra_minutes }}</td>
            <td>{{ without_late_penalty }}</td>
            <td>
                <form method="post" action="{{{ remove_url }}}">
                    <button type="submit" class="btn btn-default btn-xs">
                        <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                        {{#str}} remove, mod_astra {{/str}}
                    </button>
                </form>
            </td>
        </tr>
        {{/ dl_deviations }}
        {{^ dl_deviations }}
        <tr>
            <td colspan="4">{{#str}} nodldeviations, mod_astra {{/str}}</td>
        </tr>
        {{/ dl_deviations }}
    </table>
</div>

{{! submission limit deviations }}
<p>
    <a class="btn btn-primary btn-xs" href="{{{ add_new_sbms_limit_url }}}">
        <span class="glyphicon glyphicon-duplicate" aria-hidden="true"></span>
        {{#str}} addnewsbmslimitdeviations, mod_astra {{/str}}
    </a>
</p>
<div class="panel panel-primary">
    <div class="panel-heading">
        <h3 class="panel-title">{{#str}} submitlimitdeviations, mod_astra {{/str}}</h3>
    </div>
    <table class="table table-striped table-bordered table-condensed">
        <tr>
            <th>{{#str}} submitter, mod_astra {{/str}}</th>
            <th>{{#str}} exercisename, mod_astra {{/str}}</th>
            <th>{{#str}} extrasubmissions, mod_astra {{/str}}</th>
            <th>{{#str}} actions, mod_astra {{/str}}</th>
        </tr>
        {{# sbms_limit_deviations }}
        <tr>
            <td>{{ submitter }}</td>
            <td>{{ exercise_name }}</td>
            <td>{{ extra_submissions }}</td>
            <td>
                <form method="post" action="{{{ remove_url }}}">
                    <button type="submit" class="btn btn-default btn-xs">
                        <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                        {{#str}} remove, mod_astra {{/str}}
                    </button>
                </form>
            </td>
        </tr>
        {{/ sbms_limit_deviations }}
        {{^ sbms_limit_deviations }}
        <tr>
            <td colspan="4">{{#str}} nosbmslimitdeviations, mod_astra {{/str}}</td>
        </tr>
        {{/ sbms_limit_deviations }}
    </table>
</div>

</div>
</div>
</div>
